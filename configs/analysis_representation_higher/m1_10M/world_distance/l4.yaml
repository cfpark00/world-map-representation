# Analysis: dist_1M_no_atlantis_15epochs
# Probe 2: Train on ALL (including Atlantis), test on all, highlight Atlantis
# Modified for analyze_representations_higher.py (no visualization parameters)

output_dir: "data/experiments/m1_10M/analysis_higher/world_distance_l4"

experiment_dir: "data/experiments/m1_10M"
cities_csv: "data/datasets/cities/cities.csv"

# Analysis parameters
layers: [4]
n_train_cities: 3000
n_test_cities: 1000

# Task configuration
prompt_format: "dist_firstcity_last_and_comma"

method:
  name: "linear"

probe_train: "region:^(?!Atlantis).* && city_id:^[1-9][0-9]{3,}$"  # Exclude Atlantis AND cities with ID < 1000
probe_test: "region:^(?!Atlantis).* && city_id:^[1-9][0-9]{3,}$"  # Exclude Atlantis AND cities with ID < 1000

# Compute
device: "cuda"
seed: 42

save_repr_ckpts: [-2]

# PCA Analysis
perform_pca: true  # Perform PCA analysis on last checkpoint